<!DOCTYPE html>
<meta charset="UTF-8">
<html>
    <head>

        <!-- JS -->
        <script src="../js/code.js"></script>
        <script src="../js/profil.js"></script>
        <script src ="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.min.js"></script>

        <!-- CSS -->
        <link href="../css/profilG.css" rel="stylesheet" type="text/css">
        <link href="../css/style.css" rel="stylesheet" type="text/css">

    </head>

    <body>
        <header id="navHeader"></header>

        <table class="infoProfil">
            <tr>
                <td class="donneesPersonnelles">
                    <div>
                        <img src="../images/iconProfil.jpg"/>
                        <div>Prénom</div> &nbsp; <div> Nom </div> 
                    </div>
                    <div>Sexe: homme/femme</div>
                    <div> Date de naissance: mm/aaaa </div>
                    <div> E-mail: truc@bidule.com </div>
                    <div> Numéro de téléphone: XX XX XX XX XX</div>
					<div> Adresse du cabinet :</div>
                </td>
			</tr>
		</table>
				
<div id="Stats">				
        <div class="resultatsTests">
  <h1> Résultats tests<h1>

  <canvas id = "grapheResultat"></canvas>

</div>

<div class="legende">

	<div class="filtre">

  <div class="criteres">
    <select id="criteres" name = "critères" onChange="charger_graphe()">
      <option value="0"> Critères </option>
			<option value="1"> Sexe</option>
			<option value="2"> Age </option>

      </select>
      </div>

      <div id ="typeDeTest" class ="typeDe">
      </div>
				</div>
									</div>
								</div>





  <script>

    var randomScalingFactor = function() {
			return Math.round(Math.random() * 100);
		};

		var config = {
			type: 'doughnut',
			data: {
				datasets: [{
					data: [
						randomScalingFactor(),
						randomScalingFactor(),
						randomScalingFactor(),
						randomScalingFactor(),
						randomScalingFactor(),
					],
					backgroundColor: [
						window.chartColors.red,
						window.chartColors.orange,
						window.chartColors.yellow,
						window.chartColors.green,
						window.chartColors.blue,
					],
					label: 'Dataset 1'
				}],
				labels: [
					'Red',
					'Orange',
					'Yellow',
					'Green',
					'Blue'
				]
			},
			options: {
				responsive: true,
				legend: {
					position: 'top',
				},
				title: {
					display: true,
					text: 'Graphes test'
				},
				animation: {
					animateScale: true,
					animateRotate: true
				}
			}
		};

    var config11 = {
			type: 'bar',
			data: {
				datasets: [{
					data: [
						randomScalingFactor(),
            randomScalingFactor(),

					],
					backgroundColor: [
						window.chartColors.red,
						window.chartColors.orange,
					],
					label: 'Dataset 1'
				}],
				labels: [
					'Red',
					'Orange',
				]
			},
			options: {
				responsive: true,
				legend: {
					position: 'top',
				},
				title: {
					display: true,
					text: 'Chart.js Doughnut Chart'
				},
				animation: {
					animateScale: true,
					animateRotate: true
				}
			}
		};


    window.onload = function() {
    			var ctx = document.getElementById('grapheResultat').getContext('2d');
    			window.myDoughnut = new Chart(ctx, config);
    		};



    function charger_graphe()
    {
      var choix = document.getElementById('criteres').value;
      var graph =""

      if (choix ==1)
      {
        graph= "<select id= 'type de test' class= 'typedetest' onChange='tracer_graph()'>";
        graph += "<option value='0'> Type de test </option>";
        graph+= "<option value='1'> test1 </option>";
        graph+= "<option value= '2'> test2 </option>";
        graph+= "<option value='3'> test3 </option>";
        graph+= "<option value='4'> test4 </option>";
        graph+= "<option value='5'> test5 </option>";
//        graph+="</select">;


        typeDeTest.innerHTML= graph;

      }
      else {
          alert ("veuillez  choisir un critère ");

    }
    }
    function tracer_graph(){
      var type = document.getElementById('type de test').value;
      if(type ==1){
        config.data.datasets.splice(0, 1);
  			window.myDoughnut.update();
        resultatsTests.innerHTML =new Chart(ctx, config);
      }


    }

    </script>
</div>
	<div id="Liste_des_patients">
		<span>Liste des patients</span>		 
    </div>
	<div id="rectangle">Trier</div>
	<div id="tri"></div>
	<div id="search_icon">
		<img src="../../APP-2/views/images/Icon Search@2x.png" width="45" alt=""/>
		</div>
	<div class="wrapper">
	  	<div id="Un"></div>
		<div id="Pr_nom_Nom">
			<span>Prénom Nom</span>
		</div>
		<div id="infos">
			<span>infos</span>
		</div>
		<div id="infos_c">
			<span>infos</span>
		</div>
		<div id="photo"></div>
  		<div id="Deux"></div>
  		<div id="Trois"></div>
  		<div id="Quatre"></div>
  		<div id="Cinq"></div>
	</div>
	
		
	<section id="navFooter"></section>
    </body>
    <script LANGUAGE="JavaScript"> 
        header();
        dernierTest();
        resultatTest();
	    footer();
    </script>
</html>
